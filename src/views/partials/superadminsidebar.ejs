<!-- Sidebar -->
<nav id="sidebarMenu" class="sidebar text-white">
  <div class="profile-section text-center p-3 position-relative">
    <!-- Logo -->
    <div><img src="/images/logo.png" alt="Logo" class="logo-img mb-2"></div>

    <!-- Profile -->
    <div class="profile-pic-wrapper position-relative d-inline-block">
      <img src="/images/defaultdp.svg" alt="Profile" class="profile-img rounded-circle mb-2">
      <button class="btn btn-sm edit-btn position-absolute">
        <i class="bi bi-pencil"></i>
      </button>
    </div>

    <h5 class="mt-2">Miakel Corper</h5>
    <p class="text" style="color: aqua;">Super Admin</p>
  </div>

  <!-- Navigation -->
  <ul class="nav flex-column px-2">
    <li class="nav-item">
      <a href="/admin/superadmindashboard" class="nav-link text-white"> 
        <i class="bi bi-speedometer2"></i> Dashboard
      </a>
    </li>
    <li class="nav-item">
      <a href="/admin/courses" class="nav-link text-white"> 
        <i class="bi bi-journal-bookmark"></i> Courses
      </a>
    </li>
    <li class="nav-item">
      <a href="/admin/manage-admin" class="nav-link text-white"> 
        <i class="bi bi-person-badge"></i> Manage Admin
      </a>
    </li>
    <li class="nav-item">
      <a href="/admin/manage-students" class="nav-link text-white"> 
        <i class="bi bi-people"></i> Manage Students
      </a>
    </li>
    <li class="nav-item">
      <a href="/orders" class="nav-link text-white"> 
        <i class="bi bi-card-checklist"></i> Order Management
      </a>
    </li>
    <li class="nav-item">
      <a href="/revenue" class="nav-link text-white"> 
        <i class="bi bi-cash-coin"></i> Revenue
      </a>
    </li>
  </ul>

  <!-- Logout -->
  <div class="logout-section p-3">
    <a href="/admin/logout" class="btn btn-outline-danger w-100" style="border-radius: 50px;">Logout</a>
  </div>

  <!-- Close button for mobile -->
  <button class="btn btn-outline-light d-lg-none m-3" data-bs-toggle="collapse" data-bs-target="#sidebarMenu">
    Close
  </button>
</nav>

<script>
  const currentPath = window.location.pathname;
  const links = document.querySelectorAll('.sidebar .nav-link');

  links.forEach(link => {
    const href = link.getAttribute('href');

    // Match exact OR sub-routes
    if (currentPath === href || currentPath.startsWith(href)) {
      link.classList.add('active');
    }

    // Special mapping: edit-student/edit-admin should highlight manage-students/manage-admin
    if (href === "/admin/manage-students" && currentPath.startsWith("/admin/edit-student")) {
      link.classList.add("active");
    }
    if (href === "/admin/manage-admin" && currentPath.startsWith("/admin/edit-admin")) {
      link.classList.add("active");
    }
      if (href === "/admin/courses" && currentPath.startsWith("/admin/addnewcourse")) {
      link.classList.add("active");
    }
  });
</script>
