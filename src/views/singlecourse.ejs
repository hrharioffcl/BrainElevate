<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
        <%= course.name %>
    </title>
    <link rel="stylesheet" href="/css/header.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/coursepage.css" />
</head>

<body>
    <!-- Navbar Partial -->
    <%- include('partials/header') %>

        <!-- Full-Width Header Section -->
        <section class="course-header-section">
            <div class="course-header container">
                <div class="course-header-left">
                    <h1>
                        <%= course.name %>
                    </h1>
                    <p class="subtitle">
                        <%= course.details %>
                    </p>
                    <p class="creator">Created by <strong>
                            <%= course.author %>
                        </strong></p>
                    <h3 class="course-info">
                        Duration: <%= course.duration %> <br>
                            Level:<%= course.level %>

                    </h3>
                </div>

                <!-- Sidebar Card on Top Right -->
                <div class="card course-sidebar">
                    <img src="<%= course.thumbnail %>" class="card-img-top" alt="<%= course.name %>">
                    <div class="card-body">
                        <div class="course-price mb-3">
                            <h2>â‚¹<%= course.price %>
                            </h2>
                            <form action="/buyNow" method="POST">
                                <input type="hidden" name="courseId" value="<%= course._id %>">
                                <button type="submit">Buy Course Now</button>
                            </form>

                            <% if (course.inCart) { %>
                                <a href="/profile/<%= user._id %>/cart" class="btn ">
                                    Go To Cart </a>
                                <% } else { %>
                                    <form action="/addToCart" method="POST">
                                        <input type="hidden" name="courseId" value="<%= course._id %>">
                                        <button type="submit" class="btn btn-outline-primary"> Add To Cart</button>
                                    </form>
                                    <% } %>



                        </div>
                        <div class="course-description">
                            <h6>Course Description</h6>
                            <p>
                                <%= course.details %>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Main Content Below Header -->
        <section class="course-main-section">
            <div class="course-main container">
                <h2>What You'll Learn</h2>
                <ul>

                    <% course.learnPoints.forEach(point=> { %>
                        <li>


                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                version="1.1" width="1.5em" height="1.5em" viewBox="0 0 256 256" xml:space="preserve">
                                <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;"
                                    transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                                    <polygon
                                        points="8.46,74.19 0,65.73 38.88,26.84 54.7,42.66 70.59,26.76 79.05,35.23 54.7,59.58 38.88,43.77 "
                                        style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(16, 223, 241); fill-rule: nonzero; opacity: 1;"
                                        transform="  matrix(1 0 0 1 0 0) " />
                                    <polygon points="61.19,23.53 90,15.81 82.28,44.63 "
                                        style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(16, 223, 241); fill-rule: nonzero; opacity: 1;"
                                        transform="  matrix(1 0 0 1 0 0) " />
                                </g>
                            </svg>


                            <%= point %>
                        </li>
                        <% }) %>
                </ul>



                <h2>Course Description</h2>
                <p>
                    <%= course.description %>
                </p>
                <!-- Reviews go here -->
                <h2>Reviews</h2>
            </div>
        </section>
        <%- include("partials/flashalerts") %>

            <!-- Footer Partial -->
            <%- include('partials/footer') %>
</body>

</html>